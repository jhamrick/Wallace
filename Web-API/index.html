<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Web API - Wallace</title>
      
      
      
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="Wallace">
    <meta property="og:image" content="None/../">
    <meta name="apple-mobile-web-app-title" content="Wallace">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../assets/fonts/icon.eot?52m981');
      	src: url('../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../assets/stylesheets/application-a422ff04cc.css">
    
    
      
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu+Mono">
      <style>
        body, input {
          font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
    <script src="../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class=" ">
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
          </span>
        
        Web API
      </div>
    </div>
    
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="/" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>
          Wallace
          <span class="version">
            
          </span>
        </strong>
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Home" href="..">
      Home
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Classes" href="../Classes/">
      Classes
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Command line utility" href="../Command-line-utility/">
      Command line utility
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Communicating with the server" href="../Communicating-with-the-server/">
      Communicating with the server
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Developing Wallace (setup guide)" href="../Developing-Wallace-(setup-guide)/">
      Developing Wallace (setup guide)
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Installing Wallace (for users)" href="../Installing-Wallace-(for-users)/">
      Installing Wallace (for users)
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Learning to use Wallace" href="../Learning-to-use-Wallace/">
      Learning to use Wallace
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Monitoring a live experiment" href="../Monitoring-a-live-experiment/">
      Monitoring a live experiment
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Required experimental files" href="../Required-experimental-files/">
      Required experimental files
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Setting up AWS, psiTurk, MTurk, and Heroku" href="../Setting-up-AWS,-psiTurk,-MTurk,-and-Heroku/">
      Setting up AWS, psiTurk, MTurk, and Heroku
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="The Experiment class" href="../The-Experiment-class/">
      The Experiment class
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Using Postico to examine a Postgres database" href="../Using-Postico-to-examine-a-Postgres-database/">
      Using Postico to examine a Postgres database
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Wallace, the scientist" href="../Wallace,-the-scientist/">
      Wallace, the scientist
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Wallace with Anaconda" href="../Wallace-with-Anaconda/">
      Wallace with Anaconda
    </a>
    
  </li>

          
            
  <li>
    <a class="current" title="Web API" href="./">
      Web API
    </a>
    
      
      
        <ul>
          
            <li class="anchor">
              <a title="Miscellaneous routes" href="#miscellaneous-routes">
                Miscellaneous routes
              </a>
            </li>
          
            <li class="anchor">
              <a title="Experiment routes" href="#experiment-routes">
                Experiment routes
              </a>
            </li>
          
        </ul>
      
    
  </li>

          
            
  <li>
    <span class="section">Demos</span>
    <ul>
      
        
  <li>
    <a class="" title="Bartlett1932" href="../demos/bartlett1932/">
      Bartlett1932
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Chatroom" href="../demos/chatroom/">
      Chatroom
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Function learning" href="../demos/function-learning/">
      Function learning
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Mcmcp" href="../demos/mcmcp/">
      Mcmcp
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Rogers" href="../demos/rogers/">
      Rogers
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
            <h1>Web API</h1>
          
          <p>The Wallace server comes with a number of pre-existing routes by which the front-end can communicate with the back end. Many of these routes correspond to specific functions of Wallace's <a href="https://github.com/suchow/Wallace/wiki/Classes">classes</a>, particularly Node. For instance, Nodes have a connect method that creates new Vectors between Nodes and there is a corresponding connect route that allows the front end to call this method.</p>
<h4 id="miscellaneous-routes">Miscellaneous routes</h4>
<p><strong>/ad_address/\<mode>/\<hit_id></strong> [get] <br />
Used to get the address of the experiment on the psiTurk server and to return participants to MTurk upon completion of the experiment. This route is pinged automatically by the function <code>submit_assignment</code> in wallace.js.</p>
<p><strong>/\<directory>/\<page></strong> [get] <br />
Returns the html page with the name \<page> from the directory called \<directory>.</p>
<p><strong>/summary</strong> [get] <br />
Returns a summary of the statuses of Participants.</p>
<p><strong>/\<page></strong> [get] <br />
Returns the html page with the name \<page>.</p>
<h4 id="experiment-routes">Experiment routes</h4>
<p><strong>/experiment_property/\<property></strong> [get] <br />
Returns the value of the requested property as a json <code>&lt;property&gt;</code>.</p>
<p><strong>/info/\<node_id>/\<info_id></strong> [get] <br />
Returns a json description of the requested info as <code>info</code>. <em>node_id</em> must be specified to ensure the requesting node has access to the requested info. Calls experiment method `info_get_request(node, info).</p>
<p><strong>/info/\<node_id></strong> [post] <br />
Create an info with its origin set to the specified node. <em>contents</em> must be passed as data. <em>info_type</em> can be passed as data and will cause the info to be of the specified type. Also calls experiment method <code>info_post_request(node, info)</code>.</p>
<p><strong>/launch</strong> [post] <br />
Initializes the experiment and opens recruitment. This route is automatically pinged by Wallace.</p>
<p><strong>/network/\<network_id></strong> [get] <br />
Returns a json description of the requested network as <code>network</code>.</p>
<p><strong>/node/\<node_id>/connect/\<other_node_id></strong> [post] <br />
Create vector(s) between the <code>node</code> and <code>other_node</code> by calling <code>node.connect(whom=other_node)</code>. Direction can be passed as data and will be forwarded as an argument. Calls experiment method <code>vector_post_request(node, vectors)</code>. Returns a list of json descriptions of the created vectors as <code>vectors</code>.</p>
<p><strong>/node/\<node_id>/infos</strong> [get] <br />
Returns a list of json descriptions of the infos created by the node as <code>infos</code>. Infos are identified by calling <code>node.infos()</code>. <em>info_type</em> can be passed as data and will be forwarded as an argument. Requesting node and the list of infos are also passed to experiment method <code>info_get_request(node, infos)</code>.</p>
<p><strong>/node/\<node_id>/neighbors</strong> [get] <br />
Returns a list of json descriptions of the node's neighbors as <code>nodes</code>. Neighbors are identified by calling <code>node.neighbors()</code>. <em>node_type</em> and <em>connection</em> can be passed as data and will be forwarded as arguments. Requesting node and list of neighbors are also passed to experiment method <code>node_get_request(node, nodes)</code>.</p>
<p><strong>/node/\<node_id>/received_infos</strong> [get] <br />
Returns a list of json descriptions of the infos sent to the node as <code>infos</code>. Infos are identified by calling <code>node.received_infos()</code>. <em>info_type</em> can be passed as data and will be forwarded as an argument. Requesting node and the list of infos are also passed to experiment method <code>info_get_request(node, infos)</code>.</p>
<p><strong>/node/\<int:node_id>/transformations</strong> [get] <br />
Returns a list of json descriptions of all the transformations of a node identified using <code>node.transformations()</code>. The node id must be specified in the url. You can also pass <em>transformation_type</em> as data and it will be forwarded to <code>node.transformations()</code> as the argument <em>type</em>.</p>
<p><strong>/node/\<node_id>/transmissions</strong> [get] <br />
Returns a list of json descriptions of the transmissions sent to/from the node as <code>transmissions</code>. Transmissions are identified by calling <code>node.transmissions()</code>. <em>direction</em> and <em>status</em> can be passed as data and will be forwarded as arguments. Requesting node and the list of transmissions are also passed to experiment method <code>transmission_get_request(node, transmissions)</code>.</p>
<p><strong>/node/\<node_id>/transmit</strong> [post] <br />
Transmit to another node by calling <code>node.transmit()</code>. The sender's node id must be specified in the url. As with node.transmit() the key parameters are what and to_whom and they should be passed as data. However, the values these accept are more limited than for the back end due to the necessity of serialization. <br />
If what and to_whom are not specified they will default to None.
Alternatively you can pass an int (e.g. '5') or a class name (e.g.
'Info' or 'Agent'). Passing an int will get that info/node, passing
a class name will pass the class. Note that if the class you are specifying
is a custom class it will need to be added to the dictionary of
known_classes in your experiment code. <br />
You may also pass the values property1, property2, property3, property4
and property5. If passed this will fill in the relevant values of the
transmissions created with the values you specified. <br />
The transmitting node and a list of created transmissions are sent to experiment method <code>transmission_post_request(node, transmissions)</code>. This route returns a list of json descriptions of the created transmissions as <code>transmissions</code>.
For example, to transmit all infos of type Meme to the node with id 10:</p>
<pre><code>reqwest({
    url: &quot;/node/&quot; + my_node_id + &quot;/transmit&quot;,
    method: 'post',
    type: 'json',
    data: {
        what: &quot;Meme&quot;,
        to_whom: 10,
    },
});
</code></pre>

<p><strong>/node/\<node_id>/vectors</strong> [get] <br />
Returns a list of json descriptions of vectors connected to the node as <code>vectors</code>. Vectors are identified by calling <code>node.vectors()</code>. <em>direction</em> and <em>failed</em> can be passed as data and will be forwarded as arguments. Requesting node and list of vectors are also passed to experiment method <code>vector_get_request(node, vectors)</code>. </p>
<p><strong>/node/\<participant_id></strong> [post] <br />
Create a node for the specified participant. The route calls the following experiment methods: <code>get_network_for_participant(participant)</code>, <code>create_node(network, participant)</code>, <code>add_node_to_network(node, network)</code>, and <code>node_post_request(participant, node)</code>. Returns a json description of the created node as <code>node</code>.</p>
<p><strong>/participant/\<participant_id></strong> [get] <br />
Returns a json description of the requested participant as <code>participant</code>.</p>
<p><strong>/participant/\<worker_id>/\<hit_id>/\<assignment_id>/\<mode></strong> [post] <br />
Create a participant. Returns a json description of the participant as <code>participant</code>.</p>
<p><strong>/question/\<participant_id></strong> [post] <br />
Create a question. <em>question</em>, <em>response</em> and <em>question_id</em> should be passed as data. Does not return anything.</p>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../Wallace-with-Anaconda/" title="Wallace with Anaconda">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Wallace with Anaconda
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../demos/bartlett1932/" title="Bartlett1932">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Bartlett1932
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '..';
      var repo_id  = '';
    </script>
    <script src="../assets/javascripts/application-997097ee0c.js"></script>
    
    
  </body>
</html>