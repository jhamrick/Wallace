<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>The Experiment class - Wallace</title>
      
      
      
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="Wallace">
    <meta property="og:image" content="None/../">
    <meta name="apple-mobile-web-app-title" content="Wallace">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../assets/fonts/icon.eot?52m981');
      	src: url('../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../assets/stylesheets/application-a422ff04cc.css">
    
    
      
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu+Mono">
      <style>
        body, input {
          font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
    <script src="../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class=" ">
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
          </span>
        
        The Experiment class
      </div>
    </div>
    
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="/" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>
          Wallace
          <span class="version">
            
          </span>
        </strong>
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Home" href="..">
      Home
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Classes" href="../Classes/">
      Classes
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Command line utility" href="../Command-line-utility/">
      Command line utility
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Communicating with the server" href="../Communicating-with-the-server/">
      Communicating with the server
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Developing Wallace (setup guide)" href="../Developing-Wallace-(setup-guide)/">
      Developing Wallace (setup guide)
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Installing Wallace (for users)" href="../Installing-Wallace-(for-users)/">
      Installing Wallace (for users)
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Learning to use Wallace" href="../Learning-to-use-Wallace/">
      Learning to use Wallace
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Monitoring a live experiment" href="../Monitoring-a-live-experiment/">
      Monitoring a live experiment
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Required experimental files" href="../Required-experimental-files/">
      Required experimental files
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Setting up AWS, psiTurk, MTurk, and Heroku" href="../Setting-up-AWS,-psiTurk,-MTurk,-and-Heroku/">
      Setting up AWS, psiTurk, MTurk, and Heroku
    </a>
    
  </li>

          
            
  <li>
    <a class="current" title="The Experiment class" href="./">
      The Experiment class
    </a>
    
      
      
        <ul>
          
            <li class="anchor">
              <a title="Attributes" href="#attributes">
                Attributes
              </a>
            </li>
          
            <li class="anchor">
              <a title="Functions" href="#functions">
                Functions
              </a>
            </li>
          
        </ul>
      
    
  </li>

          
            
  <li>
    <a class="" title="Using Postico to examine a Postgres database" href="../Using-Postico-to-examine-a-Postgres-database/">
      Using Postico to examine a Postgres database
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Wallace, the scientist" href="../Wallace,-the-scientist/">
      Wallace, the scientist
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Wallace with Anaconda" href="../Wallace-with-Anaconda/">
      Wallace with Anaconda
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Web API" href="../Web-API/">
      Web API
    </a>
    
  </li>

          
            
  <li>
    <span class="section">Demos</span>
    <ul>
      
        
  <li>
    <a class="" title="Bartlett1932" href="../demos/bartlett1932/">
      Bartlett1932
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Chatroom" href="../demos/chatroom/">
      Chatroom
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Function learning" href="../demos/function-learning/">
      Function learning
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Mcmcp" href="../demos/mcmcp/">
      Mcmcp
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Rogers" href="../demos/rogers/">
      Rogers
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
            <h1>The Experiment class</h1>
          
          <p>Experiments are designed in Wallace by creating a custom subclass of the base Experiment class. The code for the Experiment class is in experiments.py. Unlike the <a href="https://github.com/suchow/Wallace/wiki/Classes">other classes</a>, each experiment involves only a single Experiment object and it is not stored as an entry in a corresponding table, rather each Experiment is a set of instructions that tell the server what to do with the database when the server receives requests from outside.</p>
<h4 id="attributes">Attributes</h4>
<ul>
<li>verbose - Boolean, determines whether the experiment logs output when running. Default is True.</li>
<li>task - String, the name of the experiment. Default is "Experiment title".</li>
<li>session - session, the experiment's connection to the database.</li>
<li>practice_repeats - int, the number of practice networks (see <a href="https://github.com/suchow/Wallace/wiki/Classes#columns">Network.role</a>). Default is 0.</li>
<li>experiment_repeats - int, the number of non practice networks (see <a href="https://github.com/suchow/Wallace/wiki/Classes#columns">Network.role</a>). Default is 0.</li>
<li>recruiter - Recruiter, the Wallace class that recruits participants. Default is PsiTurkRecruiter.</li>
<li>initial_recruitment_size - int, the number of participants requested when the experiment first starts. Default is 1.</li>
<li>known_classes - dictionary, the classes Wallace can make in response to front-end requests. Experiments can add new classes to this dictionary.</li>
</ul>
<h4 id="functions">Functions</h4>
<p>experiment<strong>.__init__</strong>(<em>session</em>) <br />
Create the experiment class. Sets the value of attributes, see above.</p>
<p>experiment<strong>.add_node_to_network</strong>(<em>node, network</em>) <br />
Pass the <em>node</em> to <em>network.add_node()</em>.</p>
<p>experiment<strong>.assignment_abandoned</strong>(<em>participant</em>) <br />
Runs when a notification from AWS is received indicating that <em>participant</em> has run out of time. Calls fail_participant.</p>
<p>experiment<strong>.assignment_returned</strong>(<em>participant</em>) <br />
Runs when a notification from AWS is received indicating that <em>participant</em> has returned the experiment assignment. Calls fail_participant.</p>
<p>experiment<strong>.attention_check</strong>(<em>participant</em>) <br />
Return a boolean value indicating whether the <em>participant</em>'s data is acceptable. This is mean to check the participant's data to determine that they paid attention. This check will run once the <em>participant</em> completes the experiment. By default performs no checks and returns True. See also experiment.data_check().</p>
<p>experiment<strong>.attention_check_failed</strong>(<em>participant</em>) <br />
Runs when <em>participant</em> has failed the attention_check. By default calls fail_participant.</p>
<p>experiment<strong>.bonus</strong>(<em>participant</em>) <br />
Return the value of the bonus to be paid to <em>participant</em>. By default returns 0.</p>
<p>experiment<strong>.bonus_reason</strong>(<em>participant</em>)
Return a string that will be included in an email sent to the <em>participant</em> receiving a bonus. By default it is "Thank you for participant! Here is your bonus."</p>
<p>experiment<strong>.create_network</strong>()
Return a new network. By default, the type of network is determined by experiment.network_type(). If the experiment uses networks of different types, or needs to pass argument to the network's <strong>init</strong>() method, this function should be overwritten. Otherwise, it is simpler to overwrite network_type().</p>
<p>experiment<strong>.create_node</strong>(<em>participant, network</em>)
Return a new node associated with the <em>participant</em> and in <em>network</em>. By default, the type of node is determined by experiment.node_type(). If the experiment uses nodes of different types, or needs to pass argument to the node's <strong>init</strong>() method, this function should be overwritten. Otherwise, it is simpler to overwrite node_type().</p>
<p>experiment<strong>.data_check</strong>(<em>participant</em>) <br />
Return a boolean value indicating whether the <em>participant</em>'s data is acceptable. This is meant to check for missing or invalid data. This check will be run once the <em>participant</em> completes the experiment. By default performs no checks and returns True. See also, experiment.attention_check().</p>
<p>experiment<strong>.data_check_failed</strong>(<em>participant</em>) <br />
Runs when <em>participant</em> has failed the data_check. By default calls fail_participant.</p>
<p>experiment<strong>.fail_participant</strong>(<em>participant</em>) <br />
Instruct all <em>participant</em>'s unfailed nodes to fail.</p>
<p>experiment<strong>.get_network_for_participant</strong>(<em>participant</em>) <br />
Return a network that the <em>participant</em> can join. If not networks are available returns None. By default participants can participate only once in each network and participants first complete networks with role="practice" before doing all other networks in a random order.</p>
<p>experiment<strong>.info_get_request</strong>(<em>node, infos</em>) <br />
Overwritable method that runs after a request from the front-end from <em>node</em> to get infos.</p>
<p>experiment<strong>.info_post_request</strong>(<em>node, info</em>) <br />
Overwritable method that runs after a request from the front-end from <em>node</em> to make an info.</p>
<p>experiment<strong>.log</strong>(<em>text, [key, force]</em>) <br />
Print <em>text</em> to the logs. <em>key</em> will be appended to text. Logging is suppressed if verbose=False, but will still occur if <em>force</em>=True (by default it is False).</p>
<p>experiment<strong>.log_summary</strong>() <br />
Print a summary of participant statuses.</p>
<p>experiment<strong>.networks</strong>(<em>[role, full]</em>) <br />
Return a list of networks. Can filter by <em>role</em> (String) and <em>full</em> (Boolean), both default to "all".</p>
<p>experiment<strong>.node_get_request</strong>(<em>participant, [node, nodes]</em>) <br />
Overwritable method that runs after a request from the front-end from <em>participant</em> to get a node/nodes.</p>
<p>experiment<strong>.node_post_request</strong>(<em>participant, node</em>) <br />
Overwritable method that runs after a request from the front-end from <em>participant</em> to make a node.</p>
<p>experiment<strong>.network_type</strong>() <br />
Return the class of network to be created. See create_network().</p>
<p>experiment<strong>.node_type</strong>() <br />
Return the class of node to be created. See create_node().</p>
<p>experiment<strong>.recruit</strong>() <br />
Recruit more participants. This method runs whenever a participant successfully completes the experiment (participants who fail to finish successfully are automatically replaced). By default it recruits 1 participant at a time until all networks are full.</p>
<p>experiment<strong>.save</strong>(objects) <br />
Add <em>objects</em> to the database and then commit. This only needs to be done for networks and participants.</p>
<p>experiment<strong>.setup</strong>() <br />
Create networks if none are present.</p>
<p>experiment<strong>.submission_successful</strong>(<em>participant</em>) <br />
Overwritable method that runs after the <em>participant</em> completes the experiment and passes the data_check and attention_check(). By default does nothing.</p>
<p>experiment<strong>.transformation_get_request</strong>(<em>node, transformations</em>) <br />
Overwritable method that runs after a request from the front-end from <em>node</em> to get transformations.</p>
<p>experiment<strong>.transformation_post_request</strong>(<em>node, transformation</em>) <br />
Overwritable method that runs after a request from the front-end from <em>node</em> to make a transformation.</p>
<p>experiment<strong>.transmission_get_request</strong>(<em>node, transmissions</em>) <br />
Overwritable method that runs after a request from the front-end from <em>node</em> to get transmissions.</p>
<p>experiment<strong>.transmission_post_request</strong>(<em>node, transmission</em>) <br />
Overwritable method that runs after a request from the front-end from <em>node</em> to send a transmission.</p>
<p>experiment<strong>.vector_get_request</strong>(<em>node, vectors</em>) <br />
Overwritable method that runs after a request from the front-end from <em>node</em> to get vectors.</p>
<p>experiment<strong>.vector_post_request</strong>(<em>node, vector</em>) <br />
Overwritable method that runs after a request from the front-end from <em>node</em> to make a vector.</p>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../Setting-up-AWS,-psiTurk,-MTurk,-and-Heroku/" title="Setting up AWS, psiTurk, MTurk, and Heroku">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Setting up AWS, psiTurk, MTurk, and Heroku
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../Using-Postico-to-examine-a-Postgres-database/" title="Using Postico to examine a Postgres database">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Using Postico to examine a Postgres database
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '..';
      var repo_id  = '';
    </script>
    <script src="../assets/javascripts/application-997097ee0c.js"></script>
    
    
  </body>
</html>